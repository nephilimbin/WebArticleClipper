# MarkDownload - Markdown Web Clipper 项目结构（Manifest V3）

## 核心目录
/src
├── service_worker/          # Service Worker目录（MV3核心）
│   ├── service_worker.js    # 主服务入口（后台逻辑处理）
│   ├── turndown.js          # Markdown转换核心库
│   ├── turndown-plugin-gfm.js # GitHub风格Markdown支持插件
│   ├── Readability.js       # 网页内容解析器（可读性算法）
│   └── browser-polyfill.min.js # 浏览器API兼容层

├── content_scripts/         # 内容脚本（MV3要求独立）
│   ├── content_script.js    # 主内容脚本（DOM操作/内容提取）
│   └── page_context.js      # 页面上下文通信模块

├── popup/                   # 弹出窗口（MV3 UI组件）
│   ├── lib/
│   │   ├── codemirror.css   # 代码编辑器样式
│   │   ├── codemirror.js    # 代码编辑器核心
│   │   └── editor.js        # 编辑器初始化模块
│   ├── popup.html           # 弹出窗口HTML结构
│   ├── popup.css            # 弹出窗口样式
│   └── popup.js            # 弹出窗口逻辑（用户交互处理）

├── options/                 # 选项页面（MV3配置管理）
│   ├── options.html         # 选项页HTML结构
│   ├── options.css          # 选项页样式
│   └── options.js          # 选项页逻辑（存储配置处理）

├── shared/                  # 共享模块（跨组件复用）
│   ├── image_handler.js     # 图片处理模块（下载/转码）
│   ├── context-menus.js     # 右键菜单管理（MV3 API封装）
│   └── default-options.js   # 默认配置管理（chrome.storage封装）

├── assets/                  # 静态资源（MV3要求本地存储）
│   ├── icons/               # 扩展图标集（多种分辨率）
│   └── fonts/               # 字体文件（可选）

├── web-accessible-resources/ # Web可访问资源（MV3安全要求）
│   └── content_scripts/     # 需要注入的脚本资源

├── manifest.json            # 清单文件（MV3规范）
├── .eslintrc.js             # ESLint配置（代码规范检查）
└── CHANGELOG.md             # 变更日志（版本更新记录）

## 新增建议文件
├── __tests__/               # 单元测试目录（MV3推荐）
│   ├── service_worker.test.js
│   └── content_script.test.js
├── docs/                    # 文档目录
│   └── security-policy.md   # 安全策略说明
└── error_logger.js          # 错误日志模块（MV3持久化存储）

## 构建说明
使用 `npm run build` 命令进行构建，构建产物将生成在/dist目录
支持全平台运行（Windows/macOS/Linux）
